<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
	
	<ui:composition template="../templates/template.xhtml">
		<ui:define name="content">

			<div class="wrapper">
				<div class="ui-grid ui-grid-responsive">
					<div class="ui-grid-row">
						<div class="ui-grid-col-12">
							<div class="wrapper">
								<h:form id="frmPrincipal" enctype="multipart/form-data">
									<p:panel id="basic1">

										<f:facet name="header">
											<span class="fa fa-file-text-o"></span>
	                                    Cadastrar Fornecedor                                             
	                                	</f:facet>

										<f:facet name="actions">
											<p:commandButton id="salvar" value="Salvar"
												icon="fa fa-floppy-o" action="#{fornecedorManagedBean.salvar}"
												style="float: right; margin-right: 0;" ajax="false"		
												process="@this" />

											<p:commandButton id="excluir" icon="fa fa-times-circle"
												value="Excluir" action="#{fornecedorManagedBean.excluir}"
												immediate="true" process="@this"
												rendered="#{fornecedorManagedBean.habilitarEstado}">
												<p:confirm header="Exclusão" message="Confirma a Exclusão?"
													icon="ui-icon-alert" />
											</p:commandButton>

											<p:confirmDialog global="true" showEffect="fade"
												hideEffect="fade">
												<p:commandButton value="Sim" type="button"
													styleClass="ui-confirmdialog-yes" icon="fa fa-check" />
												<p:commandButton value="Não" type="button"
													styleClass="ui-confirmdialog-no" icon="fa fa-close" />
											</p:confirmDialog>
										</f:facet>

										<p:messages id="msgs" showSummary="true" showDetails="false"
											autoUpdate="true" closable="true" />

										<p:fieldset legend="Informações" style="margin-bottom:20px;">
											<p:panelGrid id="panelGridCadastroGeral"
												styleClass="form-wrapper" style="max-width: 950px;">
												<p:row>
													<p:column>
														<p:outputLabel for="razaoSocial" value="Razão Social: " />
													</p:column>
													<p:column>
														<p:inputText id="razaoSocial"
															value="#{fornecedorManagedBean.fornecedor.razaoSocial}" maxlength="255"
															required="true"
															requiredMessage="Razão Social é obrigatório."
															validatorMessage="Razão Social não pode ser superior a 120 caracteres.">
															<f:validateLength maximum="120"/>
														</p:inputText>
													</p:column>
												</p:row>
												<p:row>
													<p:column>
														<p:outputLabel for="inscricaoMunicipal" value="Inscrição Municipal: " />
													</p:column>
													<p:column>
														<p:inputText id="inscricaoMunicipal"
															value="#{fornecedorManagedBean.fornecedor.inscricaoMunicipal}" maxlength="255"
															validatorMessage="Nome não pode ser superior a 120 caracteres.">
															<f:validateLength maximum="120"/>
														</p:inputText>
													</p:column>
												</p:row>
												<p:row>
													<p:column>
														<p:outputLabel for="cnpj" value="CNPJ: " />
													</p:column>
													<p:column>
														<p:inputMask id="cnpj"
															value="#{fornecedorManagedBean.fornecedor.cnpj}"
															mask="?99.999.999/9999-99" 
															required="true"
															requiredMessage="CNPJ é obrigatório." />
													</p:column>
												</p:row>

												<p:row>
													<p:column>
														<p:outputLabel for="logradouro" value="Logradouro: " />
													</p:column>
													<p:column>
														<p:inputText id="logradouro"
															value="#{fornecedorManagedBean.fornecedor.endereco.logradouro}"
															maxlength="255" required="true" requiredMessage="Logradouro é obrigatório." />
													</p:column>
												</p:row>

												<p:row>
													<p:column>
														<p:outputLabel for="complemento" value="Complemento: " />
													</p:column>
													<p:column>
														<p:inputText id="complemento"
															value="#{fornecedorManagedBean.fornecedor.endereco.complemento}"
															maxlength="255" />
													</p:column>
												</p:row>

												<p:row>
													<p:column>
														<p:outputLabel for="numero" value="Número: " />
													</p:column>
													<p:column>
														<p:inputText id="numero"
															value="#{fornecedorManagedBean.fornecedor.endereco.numero}"
															maxlength="100" required="true" requiredMessage="Número é obrigatório" >
															<f:validateLongRange minimum="0" maximum="999999"/>
														</p:inputText>
													</p:column>
												</p:row>

												<p:row>
													<p:column>
														<p:outputLabel for="bairro" value="Bairro: " />
													</p:column>
													<p:column>
														<p:inputText id="bairro"
															value="#{fornecedorManagedBean.fornecedor.endereco.bairro}"
															maxlength="255" required="true" requiredMessage="Bairro é obrigatório."/>
													</p:column>
												</p:row>

												<p:row>
													<p:column>
														<p:outputLabel for="cep" value="CEP:" />
													</p:column>
													<p:column>
														<p:inputMask id="cep"
															value="#{fornecedorManagedBean.fornecedor.endereco.cep}" mask="99.999-999"
															maxlength="10" required="true" requiredMessage="CEP é obrigatório." />
													</p:column>
												</p:row>

												<p:row>
													<p:column>
														<p:outputLabel for="municipio" value="Minicípio: " />
													</p:column>
													<p:column>
														<p:inputText id="municipio"
															value="#{fornecedorManagedBean.fornecedor.endereco.municipio}"
															maxlength="255" required="true" requiredMessage="Município é obrigatório." />
													</p:column>
												</p:row>
												<p:row>
													<p:column>
														<p:outputLabel for="uf" value="UF:" />
													</p:column>
													<p:column>
														<p:selectOneMenu id="uf"
															value="#{fornecedorManagedBean.fornecedor.endereco.uf}" required="true" requiredMessage="Selecione uma UF">
															<f:selectItem itemLabel="Selecione..." />
															<f:selectItems value="#{fornecedorManagedBean.estados}"
																var="uf" itemValue="#{uf}" itemLabel="#{uf.nome}" />
														</p:selectOneMenu>
													</p:column>
												</p:row>
												<p:row>
													<p:column>
														<p:outputLabel for="receitaBruta" value="Receita Bruta:" />
													</p:column>
													<p:column>														
														<pe:inputNumber id="receitaBruta" value="#{fornecedorManagedBean.fornecedor.receitaBruta}" symbol="R$ " 
															decimalSeparator="," thousandSeparator="." required="true" requiredMessage="Receita é obrigatória."/>
													</p:column>
												</p:row>
											</p:panelGrid>
										</p:fieldset>
										<p:commandButton id="voltar" value="Voltar" immediate="true"
											styleClass="ui-button-cancel" style="float: right;"
											action="#{fornecedorManagedBean.voltar}" />
										<br />
										<br />
									</p:panel>
								</h:form>
							</div>
						</div>
					</div>
				</div>
			</div>

		</ui:define>
	</ui:composition>
</h:body>
</html>